{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Launch (Go)",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/lambdas/pstn-transfer-go",
			"env": {
				"_LAMBDA_SERVER_PORT": "8080",
				"oauthClientId": "${input:oauthClientId}",
				"oauthClientSecret": "${input:oauthClientSecret}",
				"region": "${input:region}"
			},
			"args": []
		},
		{
			"name": "Launch (TypeScript)",
			"type": "node",
			"request": "launch",
			"runtimeExecutable": "npx",
			"runtimeArgs": ["--yes", "tsx"],
			"program": "${workspaceFolder}/lambdas/pstn-transfer-ts/src/test-runner.ts",
			"args": ["${input:json}"],
			"env": {
				"oauthClientId": "${input:oauthClientId}",
				"oauthClientSecret": "${input:oauthClientSecret}",
				"region": "${input:region}"
			},
			"console": "integratedTerminal",
			"internalConsoleOptions": "neverOpen",
			"skipFiles": ["<node_internals>/**"],
			"resolveSourceMapLocations": [
				"${workspaceFolder}/**",
				"!**/node_modules/**"
			],
			"sourceMaps": true,
			"outFiles": ["${workspaceFolder}/lambdas/pstn-transfer-ts/dist/**/*.js"]
		},
		{
			"name": "Launch (Python)",
			"type": "debugpy",
			"request": "launch",
			"module": "src.handler",
			"cwd": "${workspaceFolder}/lambdas/pstn-transfer-py",
			"args": ["--test"],
			"env": {
				"oauthClientId": "${input:oauthClientId}",
				"oauthClientSecret": "${input:oauthClientSecret}",
				"region": "${input:region}",
				"PYTHONPATH": "${workspaceFolder}/lambdas/pstn-transfer-py"
			},
			"console": "integratedTerminal",
			"justMyCode": true,
			"redirectInput": "${workspaceFolder}/${input:json}"
		}
	],
	"inputs": [
		{
			"id": "json",
			"type": "command",
			"command": "filePicker.pick",
			"args": {
				"masks": "shared/testdata/events/*.json",
				"display": {
					"type": "fileName",
					"json": "name"
				},
				"output": "fileRelativePath"
			}
		},
		{
			"type": "promptString",
			"id": "oauthClientId",
			"description": "Enter the OAuth 2 Client ID.",
			"default": ""
		},
		{
			"type": "promptString",
			"id": "oauthClientSecret",
			"description": "Enter the OAuth 2 Client Secret.",
			"default": "",
			"password": true
		},
		{
			"type": "promptString",
			"id": "region",
			"description": "Enter the region (e.g., us-west-2-prod, voice-prod, chat-prod).",
			"default": "us-west-2-prod"
		}
	]
}
